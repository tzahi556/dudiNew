<form name="userForm" ng-submit="$ctrl.submit()" novalidate>
    <div class="panel panel-default">
        <div class="panel-heading">
            משתמש
        </div>
        <div class="panel-body">
            <div class="form-group">
                <label>מזהה</label>
                <input type="number" disabled class="form-control" ng-model="$ctrl.user.Id" />
            </div>
            <div class="form-group">
                <label>אימייל</label>
                <input type="email" name="email" class="form-control" ng-model="$ctrl.user.Email" ng-model-options="{updateOn:'blur'}" required email-exists="$ctrl.user.Id" />
                <span ng-show="userForm.email.$error.emailExists">אימייל תפוס</span>
            </div>
            <div class="form-group">
                <label>סיסמה</label>
                <input type="text" name="password" class="form-control" ng-model="$ctrl.user.Password" required />
            </div>
            <div class="form-group">
                <label>שם פרטי</label>
                <input type="text" name="firstName" class="form-control" ng-model="$ctrl.user.FirstName" required />
            </div>
            <div class="form-group">
                <label>שם משפחה</label>
                <input type="text" name="lastName" class="form-control" ng-model="$ctrl.user.LastName" required />
            </div>
            <div class="form-group">
                <label>טלפון</label>
                <input type="tel" name="phoneNumber" class="form-control" ng-model="$ctrl.user.Meta.PhoneNumber" required />
            </div>
            <div class="form-group">
                <label>תפקיד</label>
                <select class="form-control" ng-options="role.id as role.name for role in $ctrl.roles | filter:{showInUsers:true} | sysAdminOnly" ng-model="$ctrl.user.Role" required>
                    <option value="">בחר תפקיד</option>
                </select>
            </div>
            <div class="form-group">
                <label>חווה</label>
                <select class="form-control" ng-options="farm.Id as farm.Name for farm in $ctrl.farms" ng-model="$ctrl.user.Farm_Id" required>
                    <option value="">בחר חווה</option>
                </select>
            </div>
        </div>
        <div class="panel-footer">
            <button type="submit" class="btn btn-success" ng-disabled="userForm.$invalid">עדכון</button>
            <button type="button" class="btn btn-default" ng-disabled="$ctrl.selfEdit" ng-click="$ctrl.delete()">מחק</button>
        </div>
    </div>
</form>